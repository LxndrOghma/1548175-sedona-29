const searchButton=document.querySelector(".search-button"),searchField=document.querySelector(".searching-form-wrapper"),searchForm=searchField.querySelector(".searching-form"),arrivalDate=searchField.querySelector(".arrival-date"),departureDate=searchField.querySelector(".departure-date");let adultsAmmount=searchField.querySelector(".adults-ammount"),childrenAmmount=searchField.querySelector(".children-ammount"),isStorageSupport=!0,storageAdults="",storageChildren="";try{storageAdults=localStorage.getItem("adults"),storageChildren=localStorage.getItem("children")}catch(a){isStorageSupport=!1}searchField.classList.add("form-off"),searchButton.addEventListener("click",function(a){a.preventDefault(),searchField.classList.toggle("form-show"),searchField.classList.toggle("form-off"),searchForm.classList.toggle("form-animate-open"),searchForm.classList.remove("form-error"),storageAdults&&(adultsAmmount.value=storageAdults),storageChildren&&(childrenAmmount.value=storageChildren),arrivalDate.focus()}),searchForm.addEventListener("submit",function(a){arrivalDate.value&&departureDate.value&&adultsAmmount.value&&childrenAmmount.value?isStorageSupport&&(searchForm.classList.remove("form-error"),localStorage.setItem("adults",adultsAmmount.value),localStorage.setItem("children",childrenAmmount.value)):(a.preventDefault(),searchForm.classList.remove("form-error"),searchForm.offsetWidth=searchForm.offsetWidth,searchForm.classList.add("form-error"))}),window.addEventListener("keydown",function(a){"Escape"===a.key&&searchField.classList.contains("form-show")&&(a.preventDefault(),searchField.classList.remove("form-show"),searchForm.classList.add("form-error"))});
